// #define DEBUG

#define HOME_PIN 18

#define PERIPHERAL_NAME     "Camera Slider"
#define SERVICE_UUID        "A7F7A363-1642-475A-8252-8BCE4C4289E9"
#define PROGRAM_CHARACTERISTIC_UUID "314A2B2A-EB2C-4D05-87CD-475DBA39BC0F"
#define STATE_CHARACTERISTIC_UUID "9C282BA8-2BCE-4DF7-AA80-ED014C471B21"

#define TRACKING_PIN_DIR 2
#define TRACKING_PIN_STEP 4 
#define TRACKING_PIN_EN 5

#define PANNING_PIN_DIR 19
#define PANNING_PIN_STEP 21
#define PANNING_PIN_EN 22

#define MESSAGE_START 0xA4
#define PARAMS_MESSAGE_BODY_LENGTH 8
#define STATUS_MESSAGE_BODY_LENGTH 32

#define STEPS_PER_ROTATION 1600
#define PANNING_GEAR_RATIO 4
#define SHAFT_CIRCUMFRENCE_MILLIS 35
#define SHAFT_LENGTH_MILLIS 686
#define ONE_MINUTE_MICROS 60000000
#define ONE_METER_MILLIS 1000.0
#define ONE_SECOND_MICROS 1000000
#define MAX_TRACKING_STEPS ((SHAFT_LENGTH_MILLIS / SHAFT_CIRCUMFRENCE_MILLIS) * STEPS_PER_ROTATION)
#define TRACKING_MILLIS_PER_STEP ((float)SHAFT_CIRCUMFRENCE_MILLIS / (float)STEPS_PER_ROTATION)

#define STEP_WAIT_MICROS 350
